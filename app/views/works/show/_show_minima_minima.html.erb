<script type="text/javascript">

	function putTextInfo(id_elem) {
		var credits_htmlstr = "<%= j work.credits.html_safe if !work.credits.nil? %>";
		var synopsis_htmlstr = "<%= j work.synopsis.html_safe if !work.synopsis.nil? %>";
		var notes_htmlstr = "<%= j work.notes.html_safe if !work.notes.nil? %>";
		var program_htmlstr = "<%= j work.program.html_safe if !work.program.nil? %>";

		if(id_elem == "credits") {
			$("#work-info-text-content-minima-minima").html(credits_htmlstr);
		} else if(id_elem == "synopsis") {
			$("#work-info-text-content-minima-minima").html(synopsis_htmlstr);
		} else if(id_elem == "notes") {
			$("#work-info-text-content-minima-minima").html(notes_htmlstr);
		} else if(id_elem == "program") {
			$("#work-info-text-content-minima-minima").html(program_htmlstr);
		}

		if(($(".work-info-text-minima-minima").data("jsp"))) {
			$(".work-info-text-minima-minima").data("jsp").destroy();
  		}

  		$(".work-info-text-minima-minima").bind("jsp-initialised", function(event, isScrollable) {
  			// Se redimensiona el area scrollable
			$(".jspContainer").css("width", "91%");
			$(".jspContainer").css("margin-right", "2.75%");
			$(".jspContainer").css("margin-left", "6.25%");
		}).jScrollPane({hideFocus: true });

		correctLineHeight("work-info-text-content-minima-minima");
  	}

	$(function() {
		correctLineHeight("work-info-title-minima-minima");

		putTextInfo("credits");
	});
</script>

<div id="work-container-minima-minima">

	<!-- DISPLAY DE LA OBRA -->
	<div id="work-display-minima-minima">
		<%= image_tag Photo.find(@work.display).image.url(:display), :style => "width: 100%; height: 440px;" %>
	</div>

	<!-- INFORMACION GENERAL DE LA OBRA -->
	<div id="work-info-minima-minima">

		<!-- TITULOS DE LA OBRA -->
		<div id="work-info-title-minima-minima" >
			<div id="work-info-title-content-minima-minima">
				<%= work.titles_text.html_safe %>
			</div>
		</div>

		<!-- INFORMACION-TEXTO DE LA OBRA -->
		<div class="work-info-text-minima-minima" style="width: 100%; height: 320px; float: right;">
			<div id="work-info-text-content-minima-minima" style="width: 87.5%; height: auto;"></div>
		</div>

		<div id="work-info-menu-navigator" style="height: 50px;">
			<ul id="work-info-menu">
				<% if !work.credits.nil? %>
					<li class="work-info-menu-item" style="margin-right: 2px;" onclick="putTextInfo('credits');" ><div><%= t(:credits_menu) %></div></li>
				<% end  %>
				<% if !work.synopsis.nil? %>
					<li class="work-info-menu-item" style="margin-right: 2px;" onclick="putTextInfo('synopsis');" ><div><%= t(:synopsis_menu) %></div></li>
				<% end  %>
				<% if !work.notes.nil? %>
					<li class="work-info-menu-item" style="width: 45px; margin-right: 3px;" onclick="putTextInfo('notes');" ><div><%= t(:notes_menu) %></div></li>
				<% end  %>
				<% if !work.program.nil? %>
					<li class="work-info-menu-item" style="width: 60px; margin-left: 3px;" onclick="putTextInfo('program');" ><div><%= t(:program_menu) %></div></li>
				<% end  %>

				<%= link_to work_path(@work.next) do %>
					<div style="width: 10px; height: 16px; float: right; margin-right: 30px;">
						<%= image_tag "next.png", :alt => "Siguiente", :style => "width: 100%; height: 100%;" %>
					</div>
				<% end %>
				<%= link_to work_path(@work.previous) do %>
					<div style="width: 10px; height: 16px; float: right; margin-right: 12px;	">
						<%= image_tag "previous.png", :alt => "Anterior", :style => "width: 10px; height: 16px;" %>
					</div>
				<% end %>
			</ul>
		</div>
	</div>
</div>